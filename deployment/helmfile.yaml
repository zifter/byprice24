environments:
  local:
    values:
      - monitoring:
          enabled: false
      - app:
          tag: test
      - redis:
          enabled: true
      - postgres:
          enabled: true

  prod:
    values:
      - monitoring:
          enabled: false
      - app:
          tag: latest
      - redis:
          enabled: true
      - postgres:
          enabled: false  # will be used managed

helmfiles:
  - path: "helmfile/00-infra.yaml"
    values:
    - # pass the current state values to the sub-helmfile
{{ toYaml .Environment.Values | indent 6 }}

  - path: "helmfile/10-application.yaml"
    values:
    - # pass the current state values to the sub-helmfile
{{ toYaml .Environment.Values | indent 6 }}
